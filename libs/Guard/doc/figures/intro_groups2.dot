digraph G {
  rankdir=LR;

  subgraph cluster0 {
    label="Actors";

    hs   [label="Han Solo", shape=box];
    r2d2 [label="R2D2", shape=box];
    ls   [label="Luke Skywalker", shape=box];

    Passengers -> Crew;
      Crew -> Engineers;
        Engineers -> hs;
        Engineers -> r2d2;
      Crew -> Catering;
      Crew -> ls;
    Passengers -> Guests;
  }

  subgraph cluster1 {
    rankdir=TB;
    style=filled;
    color=lightgrey;
    rank=min;
    label="Resources";
    node [style=filled,color=white,shape=box];

    bridge [label="Bridge"];
    mr     [label="Machine Room"];
    lounge [label="Lounge"];
  }

  Crew:e -> bridge:w [label="may enter",style=dotted,weight=1000];
  Engineers:e -> mr:w [label="may enter or repair",style=dotted,weight=1000];
  hs:e -> mr:w [label="may not enter",style=dotted,weight=1000];
  Guests:e -> lounge:w [label="may enter",style=dotted,weight=1000];
}
