Spiff Guard
------------
This library is part of the Spiff platform.

Spiff Guard is a library implementing generic access lists for Python.


Contact
--------
Mailing List: http://groups.google.com/group/spiff-devel/


Dependencies
-------------
- sqlalchemy


Usage
------
See some example code below. API documentation is embedded into the
Spiff Guard source code and currently not yet available elsewhere.

If you need more help, please drop by our mailing list. You might
actually make someone write the missing pieces of documentation.

##############################
from Guard import *

db = AclDB(...)
a_section = ActionSection("User Permissions")
r_section = ResourceSection("Users and Content")
view = Action("View")
write = Action("Write")
website = Resource("My Website")
group = ActorGroup("Users")
user = Actor("Some Guy")
 
# Create actions "View" and "Write".
db.add_action_section(a_section)
db.add_action(view, a_section)
db.add_action(write, a_section)
 
# Create an access control object for the website.
db.add_resource_section(r_section)
db.add_resource(website, r_section)
 
# Create an access control object for users and groups.
db.add_resource(None, group, r_section)
db.add_resource(group, user, r_section)
 
# Assign permissions.
db.grant(group, view, website)
db.grant(user, write, website)
 
# Done! Checking permissions is now as easy as this:
if db.has_permission(user, view, website):
     print 'Yep, that is permitted!'
else:
     print 'Sorry, dude, permission denied!'
     
# Alternate way without requiring the objects:
if db.has_permission_from_id(user.get_id(),
                              view.get_id(),
                              website.get_id()):
     print 'Yep, that is permitted!'
else:
     print 'Sorry, dude, permission denied!'
##############################
